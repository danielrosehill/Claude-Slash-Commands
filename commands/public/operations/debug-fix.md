Diagnose, fix, and validate a specific bug in the software repository.

Your task:
1. Understand the bug:
   - Get detailed description from user
   - Identify expected vs. actual behavior
   - Determine reproduction steps
   - Check error messages and logs

2. Diagnose the issue:
   - Locate relevant code sections
   - Trace execution flow
   - Identify root cause
   - Check for similar issues

3. Propose solution:
   - Explain what's causing the bug
   - Suggest fix approach
   - Discuss potential side effects
   - Consider alternative solutions

4. Implement fix:
   - Make minimal, targeted changes
   - Follow project code style
   - Add comments if logic is complex
   - Update related code if needed

5. Validate the fix:
   - Test the specific bug scenario
   - Check for regressions
   - Run existing tests
   - Verify edge cases

6. Document the fix:
   - Update CHANGELOG
   - Add comments explaining the fix
   - Update documentation if needed
   - Create test case to prevent regression

7. Completion checklist:
   - [ ] Bug reproduced
   - [ ] Root cause identified
   - [ ] Fix implemented
   - [ ] Tests pass
   - [ ] No regressions introduced
   - [ ] Documentation updated

Focus on fixing ONE specific bug thoroughly, ensuring it's properly resolved and validated.
